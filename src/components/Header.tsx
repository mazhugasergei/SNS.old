"use client"
import { RootState } from '@/store/store'
import { Gabarito } from 'next/font/google'
import Link from 'next/link'
import { useState } from 'react'
import { useSelector } from 'react-redux'

const gabarito = Gabarito({ subsets: ['latin'] })

export default () => {
  const auth = useSelector((state: RootState) => state.user.auth)
  const [menuOpened, setMenuOpened] = useState(false)

  const toggleMenu = () => setMenuOpened(prevState => !prevState)

  return (
    <header className="wrapper">
      {/* Menu */}
      <menu className={ menuOpened ? "" : "hidden" }>
        {/* Close Menu Button */}
        <button className="back-btn menu-list-btn" onClick={toggleMenu}>
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
            <path d="M26 16H7.5M7.5 16L14 9M7.5 16L14 23" stroke="#1B141F" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
          </svg>
          <div>Back</div>
        </button>

        {/* Profile Banner */}
        { auth && <div className="profile menu-list-btn">
          <div className="pfp"></div>
          <div className="name">Markus</div>
        </div> }
        
        {/* Nav Links */}
        <nav>
          <Link href="/" className="menu-list-btn" onClick={toggleMenu}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <path fillRule="evenodd" clipRule="evenodd" d="M16.4545 7.40343C16.186 7.19886 15.814 7.19886 15.5455 7.40343L8.06443 13.1033C7.62999 13.4343 7.375 13.9491 7.375 14.4953V24C7.375 25.0471 8.29995 25.75 9.25 25.75H12.8089C12.8708 25.762 12.9346 25.7682 13 25.7682H19C19.0654 25.7682 19.1292 25.762 19.1911 25.75H22.75C23.7 25.75 24.625 25.0471 24.625 24V14.4953C24.625 13.9491 24.37 13.4343 23.9356 13.1033L16.4545 7.40343ZM20 24.25H22.75C22.881 24.25 22.9839 24.2029 23.0472 24.1465C23.1092 24.0915 23.125 24.0383 23.125 24V14.4953C23.125 14.4173 23.0886 14.3437 23.0265 14.2964L16 8.94288L8.97349 14.2964C8.91143 14.3437 8.875 14.4173 8.875 14.4953V24C8.875 24.0383 8.8908 24.0915 8.95278 24.1465C9.01613 24.2029 9.11905 24.25 9.25 24.25H12V18C12 17.4477 12.4477 17 13 17H19C19.5523 17 20 17.4477 20 18V24.25ZM18.5 24.25H13.5V18.5H18.5V24.25Z" fill="#48434B"/>
            </svg>
            <div>Home</div>
          </Link>
          { auth && <Link href="/profile" className="menu-list-btn" onClick={toggleMenu}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <path fillRule="evenodd" clipRule="evenodd" d="M19.5 13C19.5 14.933 17.933 16.5 16 16.5C14.067 16.5 12.5 14.933 12.5 13C12.5 11.067 14.067 9.5 16 9.5C17.933 9.5 19.5 11.067 19.5 13ZM21 13C21 15.7614 18.7614 18 16 18C13.2386 18 11 15.7614 11 13C11 10.2386 13.2386 8 16 8C18.7614 8 21 10.2386 21 13ZM11.0245 18.2903C11.1628 18.1835 11.3306 18.1198 11.5047 18.106C11.8254 18.0806 12.0103 18.0873 12.1342 18.1375C12.6729 18.356 12.2848 19.2661 11.857 19.6597C10.8792 20.5595 9.97248 21.9576 9.5891 22.9928H22.4899C22.1058 21.9557 21.1485 20.5541 20.1472 19.6546C19.7147 19.266 19.3269 18.3557 19.8659 18.1375C19.9897 18.0874 20.1746 18.0808 20.495 18.1063C20.6691 18.1202 20.8368 18.1839 20.975 18.2906C22.5963 19.5427 23.7152 21.3928 23.9862 23.502C24.0566 24.0498 23.6022 24.4998 23.0499 24.4998H8.94919C8.39691 24.4998 7.94244 24.0498 8.01283 23.502C8.2839 21.3927 9.40298 19.5424 11.0245 18.2903Z" fill="#1B141F"/>
            </svg>
            <div>Profile</div>
          </Link> }
          { auth && <Link href="/notifications" className="menu-list-btn" onClick={toggleMenu}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <path d="M9.25 24C9.25 24.4142 9.58579 24.75 10 24.75C10.4142 24.75 10.75 24.4142 10.75 24H9.25ZM10.75 9C10.75 8.58579 10.4142 8.25 10 8.25C9.58579 8.25 9.25 8.58579 9.25 9H10.75ZM14.5 10L14.3027 10.7236L14.5 10ZM17.5 11.5L17.6973 10.7764L17.5 11.5ZM22 11.5H22.75C22.75 11.2798 22.6532 11.0707 22.4853 10.9282C22.3174 10.7857 22.0953 10.7242 21.878 10.76L22 11.5ZM22 19L22.1466 19.7355C22.4974 19.6656 22.75 19.3577 22.75 19H22ZM17.5 19L17.7412 18.2898H17.7412L17.5 19ZM14.5 17L14.7412 16.2898H14.7412L14.5 17ZM10.75 24V9H9.25V24H10.75ZM10 10C10.122 10.74 10.1219 10.74 10.1219 10.74C10.1218 10.74 10.1218 10.74 10.1218 10.7401C10.1217 10.7401 10.1217 10.7401 10.1218 10.7401C10.1219 10.74 10.1221 10.74 10.1225 10.7399C10.1234 10.7398 10.1249 10.7395 10.1271 10.7392C10.1314 10.7385 10.1383 10.7374 10.1477 10.7359C10.1665 10.733 10.1951 10.7286 10.2327 10.7231C10.308 10.712 10.4188 10.6965 10.5576 10.6792C10.8358 10.6445 11.2237 10.6028 11.6616 10.5751C12.5616 10.5181 13.5816 10.5269 14.3027 10.7236L14.6973 9.27643C13.723 9.01069 12.493 9.01948 11.5668 9.0781C11.0916 9.10818 10.6725 9.15323 10.3718 9.19075C10.2212 9.20955 10.0997 9.22655 10.0149 9.23899C9.97252 9.24521 9.93927 9.2503 9.91614 9.25391C9.90458 9.25572 9.89554 9.25716 9.88914 9.25818C9.88594 9.2587 9.8834 9.25911 9.88154 9.25941C9.88061 9.25956 9.87985 9.25969 9.87925 9.25979C9.87896 9.25983 9.87871 9.25988 9.8785 9.25991C9.87839 9.25993 9.87826 9.25995 9.87821 9.25996C9.8781 9.25998 9.87799 9.25999 10 10ZM14.3027 10.7236C14.8055 10.8607 15.1502 11.0854 15.5845 11.3744C16.0183 11.663 16.5418 12.0161 17.3027 12.2236L17.6973 10.7764C17.1945 10.6393 16.8498 10.4146 16.4155 10.1256C15.9817 9.83696 15.4582 9.48393 14.6973 9.27643L14.3027 10.7236ZM17.3027 12.2236C18.277 12.4893 19.507 12.4805 20.4332 12.4219C20.9084 12.3918 21.3275 12.3468 21.6282 12.3093C21.7788 12.2905 21.9003 12.2735 21.9851 12.261C22.0275 12.2548 22.0607 12.2497 22.0839 12.2461C22.0954 12.2443 22.1045 12.2428 22.1109 12.2418C22.1141 12.2413 22.1166 12.2409 22.1185 12.2406C22.1194 12.2404 22.1202 12.2403 22.1207 12.2402C22.121 12.2402 22.1213 12.2401 22.1215 12.2401C22.1216 12.2401 22.1217 12.2401 22.1218 12.24C22.1219 12.24 22.122 12.24 22 11.5C21.878 10.76 21.8781 10.76 21.8781 10.76C21.8782 10.76 21.8782 10.76 21.8782 10.76C21.8783 10.7599 21.8783 10.7599 21.8782 10.76C21.8781 10.76 21.8779 10.76 21.8775 10.7601C21.8766 10.7602 21.8751 10.7605 21.8729 10.7608C21.8686 10.7615 21.8617 10.7626 21.8523 10.7641C21.8335 10.767 21.8049 10.7714 21.7673 10.7769C21.692 10.788 21.5812 10.8035 21.4424 10.8208C21.1642 10.8555 20.7763 10.8972 20.3384 10.9249C19.4384 10.9819 18.4184 10.9731 17.6973 10.7764L17.3027 12.2236ZM21.25 11.5V19H22.75V11.5H21.25ZM22 19C21.8534 18.2645 21.8535 18.2644 21.8536 18.2644C21.8536 18.2644 21.8537 18.2644 21.8537 18.2644C21.8538 18.2644 21.8538 18.2644 21.8538 18.2644C21.8537 18.2644 21.8535 18.2644 21.8531 18.2645C21.8524 18.2647 21.8509 18.265 21.8488 18.2654C21.8446 18.2662 21.8378 18.2675 21.8285 18.2692C21.8099 18.2728 21.7813 18.2781 21.7437 18.2847C21.6686 18.2981 21.5576 18.3169 21.4187 18.3379C21.1401 18.38 20.7524 18.4306 20.3164 18.4641C19.414 18.5337 18.4197 18.5203 17.7412 18.2898L17.2588 19.7102C18.2444 20.0449 19.5 20.0315 20.4316 19.9597C20.9126 19.9227 21.3379 19.8672 21.6431 19.821C21.796 19.7979 21.9196 19.777 22.006 19.7616C22.0493 19.7539 22.0832 19.7477 22.107 19.7432C22.1189 19.7409 22.1282 19.7391 22.1348 19.7378C22.1381 19.7372 22.1408 19.7367 22.1427 19.7363C22.1437 19.7361 22.1445 19.7359 22.1452 19.7358C22.1455 19.7358 22.1458 19.7357 22.146 19.7357C22.1461 19.7356 22.1463 19.7356 22.1463 19.7356C22.1465 19.7356 22.1466 19.7355 22 19ZM17.7412 18.2898C17.2424 18.1204 16.9296 17.8396 16.5103 17.4503C16.0962 17.066 15.5757 16.5732 14.7412 16.2898L14.2588 17.7102C14.7576 17.8796 15.0704 18.1604 15.4897 18.5497C15.9038 18.934 16.4243 19.4268 17.2588 19.7102L17.7412 18.2898ZM14.7412 16.2898C13.7556 15.9551 12.5 15.9685 11.5684 16.0403C11.0874 16.0773 10.6621 16.1328 10.3569 16.179C10.204 16.2021 10.0804 16.223 9.99396 16.2384C9.95073 16.2461 9.91676 16.2523 9.89302 16.2568C9.88115 16.2591 9.87183 16.2609 9.86519 16.2622C9.86187 16.2628 9.85922 16.2633 9.85726 16.2637C9.85627 16.2639 9.85546 16.2641 9.85482 16.2642C9.8545 16.2642 9.85423 16.2643 9.85399 16.2644C9.85388 16.2644 9.85374 16.2644 9.85368 16.2644C9.85355 16.2644 9.85343 16.2645 10 17C10.1466 17.7355 10.1465 17.7356 10.1464 17.7356C10.1464 17.7356 10.1463 17.7356 10.1463 17.7356C10.1462 17.7356 10.1462 17.7356 10.1462 17.7356C10.1463 17.7356 10.1465 17.7356 10.1469 17.7355C10.1476 17.7353 10.1491 17.735 10.1512 17.7346C10.1554 17.7338 10.1622 17.7325 10.1715 17.7308C10.1901 17.7272 10.2187 17.7219 10.2563 17.7153C10.3314 17.7019 10.4424 17.6831 10.5813 17.6621C10.8599 17.62 11.2476 17.5694 11.6836 17.5359C12.586 17.4663 13.5803 17.4797 14.2588 17.7102L14.7412 16.2898Z" fill="#1B141F"/>
            </svg>
            <div>Notifications</div>
          </Link> }
          <Link href="/settings" className="menu-list-btn" onClick={toggleMenu}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <path fillRule="evenodd" clipRule="evenodd" d="M15.1798 9.41037C13.2296 7.59265 10.1041 9.39713 10.7032 11.9949C10.8451 12.6103 10.487 13.2307 9.88308 13.4155C7.33376 14.1956 7.33376 17.8045 9.88308 18.5846C10.487 18.7694 10.8451 19.3898 10.7032 20.0051C10.1041 22.603 13.2296 24.4074 15.1798 22.5897C15.6418 22.1591 16.3581 22.1591 16.8201 22.5897C18.7704 24.4074 21.8958 22.603 21.2967 20.0051C21.1548 19.3898 21.513 18.7694 22.1169 18.5846C24.6662 17.8045 24.6662 14.1956 22.1169 13.4155C21.513 13.2307 21.1548 12.6103 21.2967 11.9949C21.8958 9.39713 18.7703 7.59265 16.8201 9.41037C16.3581 9.84097 15.6418 9.84097 15.1798 9.41037ZM12.1649 11.6579C11.8982 10.5018 13.2892 9.69871 14.1571 10.5077C15.1952 11.4752 16.8048 11.4752 17.8428 10.5077C18.7108 9.69871 20.1017 10.5018 19.8351 11.6579C19.5162 13.0407 20.321 14.4346 21.6779 14.8498C22.8125 15.197 22.8125 16.8031 21.6779 17.1503C20.321 17.5655 19.5162 18.9594 19.8351 20.3422C20.1017 21.4983 18.7108 22.3014 17.8428 21.4924C16.8048 20.5249 15.1952 20.5249 14.1571 21.4924C13.2892 22.3014 11.8982 21.4983 12.1649 20.3422C12.4837 18.9594 11.679 17.5655 10.322 17.1503C9.18746 16.8031 9.18746 15.197 10.322 14.8498C11.679 14.4346 12.4837 13.0407 12.1649 11.6579ZM17.299 15.25C17.7132 15.9675 17.4674 16.8849 16.75 17.2991C16.0325 17.7133 15.1151 17.4675 14.7009 16.75C14.2867 16.0326 14.5325 15.1152 15.25 14.701C15.9674 14.2868 16.8848 14.5326 17.299 15.25ZM18.598 14.5C19.4265 15.9349 18.9348 17.7697 17.5 18.5981C16.0651 19.4265 14.2303 18.9349 13.4019 17.5C12.5735 16.0652 13.0651 14.2304 14.5 13.402C15.9348 12.5735 17.7696 13.0652 18.598 14.5Z" fill="#1B141F"/>
            </svg>
            <div>Settings</div>
          </Link>
          <Link href="/search" className="menu-list-btn" onClick={toggleMenu}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <path fillRule="evenodd" clipRule="evenodd" d="M23.5 15C23.5 18.5899 20.5899 21.5 17 21.5C13.4101 21.5 10.5 18.5899 10.5 15C10.5 11.4101 13.4101 8.5 17 8.5C20.5899 8.5 23.5 11.4101 23.5 15ZM25 15C25 19.4183 21.4183 23 17 23C15.0609 23 13.283 22.3101 11.8982 21.1624L8.53033 24.5303C8.23744 24.8232 7.76256 24.8232 7.46967 24.5303C7.17678 24.2374 7.17678 23.7626 7.46967 23.4697L10.8376 20.1018C9.68988 18.717 9 16.9391 9 15C9 10.5817 12.5817 7 17 7C21.4183 7 25 10.5817 25 15Z" fill="#1B141F"/>
            </svg>
            <div>Search</div>
          </Link>
          { auth && <Link href="/messages" className="menu-list-btn" onClick={toggleMenu}>
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
              <path d="M10.75 19C10.75 18.6933 10.5633 18.4175 10.2785 18.3036C10.0015 18.1928 9.3553 17.7825 8.78031 17.0406C8.21946 16.3169 7.75 15.308 7.75 14C7.75 10.7127 11.2573 7.75 16 7.75C18.3602 7.75 20.4438 8.38315 21.9172 9.47576C23.3743 10.5563 24.25 12.0915 24.25 14C24.25 15.7553 23.4932 17.1614 22.175 18.15C20.8376 19.1531 18.8841 19.75 16.5 19.75C16.3474 19.75 16.1985 19.7965 16.0731 19.8834L10.75 23.5686V19Z" stroke="#1B141F" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round"/>
            </svg>
            <div>Messaging</div>
          </Link> }
        </nav>

        {/* Auth Buttons */}
        { !auth && <div className="auth-buttons">
          <Link href="/log-in" className="btn transparent" onClick={toggleMenu}>Log in</Link>
          <Link href="/sign-up" className="btn" onClick={toggleMenu}>Sign up</Link>
        </div> }
      </menu>

      {/* Menu Button */}
      <button className="menu-btn" onClick={toggleMenu}>
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
          <path fillRule="evenodd" clipRule="evenodd" d="M7.75 10C7.75 9.58579 8.08579 9.25 8.5 9.25H23.5C23.9142 9.25 24.25 9.58579 24.25 10C24.25 10.4142 23.9142 10.75 23.5 10.75H8.5C8.08579 10.75 7.75 10.4142 7.75 10ZM7.75 16C7.75 15.5858 8.08579 15.25 8.5 15.25H23.5C23.9142 15.25 24.25 15.5858 24.25 16C24.25 16.4142 23.9142 16.75 23.5 16.75H8.5C8.08579 16.75 7.75 16.4142 7.75 16ZM8.5 21.25C8.08579 21.25 7.75 21.5858 7.75 22C7.75 22.4142 8.08579 22.75 8.5 22.75H23.5C23.9142 22.75 24.25 22.4142 24.25 22C24.25 21.5858 23.9142 21.25 23.5 21.25H8.5Z" fill="#1B141F"/>
        </svg>
      </button>

      {/* Logo */}
      <Link href="/" className={`logo ${gabarito.className}`}>Momento</Link>

      {/* Search Button */}
      <Link href="/search" className="search-btn">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="none">
          <path fillRule="evenodd" clipRule="evenodd" d="M23.5 15C23.5 18.5899 20.5899 21.5 17 21.5C13.4101 21.5 10.5 18.5899 10.5 15C10.5 11.4101 13.4101 8.5 17 8.5C20.5899 8.5 23.5 11.4101 23.5 15ZM25 15C25 19.4183 21.4183 23 17 23C15.0609 23 13.283 22.3101 11.8982 21.1624L8.53033 24.5303C8.23744 24.8232 7.76256 24.8232 7.46967 24.5303C7.17678 24.2374 7.17678 23.7626 7.46967 23.4697L10.8376 20.1018C9.68988 18.717 9 16.9391 9 15C9 10.5817 12.5817 7 17 7C21.4183 7 25 10.5817 25 15Z" fill="#1B141F"/>
        </svg>
      </Link>
    </header>
  )
}